---
title: "Report"
author: "Nicholas Vella"
date: "2022-11-03"
bibliography: references.bib 
output:
  pdf_document:
    pandoc_args: "--listings"
    includes:
      in_header: preamble.tex
  html_document:
    df_print: paged
---

\newpage
# Abstract
&nbsp; This report investigates trends between physical attributes of people. The research compares data between height and weight, gender and height, and gender and physical activity using statistical tests. The results find a linear relationship between height and weight, a difference in height between genders, and a lack of association between gender and physical activity.


# Introduction

The project aims to answer the following research questions:

1.  Is there a linear relationship between height and weight?
2.  Is the mean height of male and female the same?
3.  Is there an association between gender and the amount of physical activity?

&nbsp; These research questions are important as relationships in physical attributes have many use cases. Trends in physical attributes between genders can be used to determine average and normal ranges in medical, or help determine the size of clothing for different genders. Trends between height and weight are useful as they are used to diagnose obesity with the BMI. The data used in this report were sampled randomly.

\newpage

# Methods

&nbsp; The experiment used hypothesis testing with the appropriate statistical analysis to address each research question. This design was chosen as the research questions were different, requiring different statistical analysis top assess the probability of the hypotheses. The subjects were 1000 randomly sampled people. The data was provided in the "project2022" data-set and did not give light to any methodology to the selection process of the subjects.The data was given in a tidy format that did required very little wrangling. The data was managed by creating a package to store the data set, and it was used as given to input into the functions required to analysed the data. 
<br /> 
<br /> 
\newline
\newline
Five variables were measured:

* ID of the subject
* Gender of the subject
* Height of the subject
* Weight of the subject
* Intensity of physical exercise completed by the subject ranked as: 
  + Intense
  + Moderate
  + None

&nbsp;The first research question was addressed using a linear regression statistical test, as this is the appropriate test to find linear relationships between variables. The second research question was addressed by the use of the Student's T-test, as this is appropriate to test the means of two samples. This was used instead of the Welch T-test, as the variances of the means were assumed to be equal. The third research question was addressed with a chi-squared test of independence, as this is the appropriate statistical test to check for associations between variables in categorical data. 
<br /> 
<br /> 
\newline
\newline
Each test for the three research questions following the following format, and used R to complete all the calculations:


* Stating null and alternate hypotheses
* Checking the assumptions
* Providing descriptive statistics for the statistical tests
* Providing a "decision" of the test
* Providing a "conclusion" of the test



The following packages were used in R to provide this output in the making of the "project" package:

* Stats package to run the statistical tests [@stats1]
* ggplot2 package to provide graphical assumptions [@ggplot1]
* dplyr package to filter data to input into test/graphs and provide tabular output [@dplyr1]
* glue package to interpret conclusions and decisions from the input data-set [@glue1]
* magrittr package for the pipe operator [@pipe1]
* broom package to make statistical output tidy [@broom1]

\newpage
# Results 

## Exploratory Data Analysis

Hypotheses for research question 1,2, and 3 respectively (generated in R, using the package "project"):

```{r, echo=FALSE, eval=TRUE}
## Install devtools first
## I get an error that the package is not made for this R version, but output still works??
library(project)

hypothesis_lm(project2022)
hypothesis_t(project2022)
hypothesis_chi(project2022)
```

Assumptions for research questions 1,2, and 3 respectively (generated by R). The ggplot2 package [@ggplot1] was used to generate graphs. The dplyr [@dplyr1] and magrittr packages [@pipe1] were used to manipulate the data: 

```{r, echo=FALSE, eval=TRUE, fig.height=4}
## I get an error that the package is not made for this R version, but output still works??
##variance assumption table output  in wrapper function not working on markdown - done manually
library(project)

h <- c(var(subset(project2022, gender == "Male", height)), var(subset(project2022, gender == "Female", height)))
j <- c("Male Variance" = h[1], "Female Variance" = h[2])

assumptions_lm(project2022)
assumptions_t(project2022)
print(j)
assumptions_chi(project2022)
```

Checking the assumptions for the linear model (research question 1):

* The scatterplot of Height vs Weight demonstrates that there could be a positive linear relationship. 
* Normality of residuals. This can be seen from the "bell-curve" distribution of the histogram of residuals in the R outputt.
* Uncorrelated residuals and fitted values. This can be seen from random distribution of values in the "fitted vs residuals" scatterplot. 

Checking the assumptions for the t-test (research question 2): 

* Equal variances: the variances of the samples (from the R output) clearly satisfy the rule of thumb. 
* Normality of observations is shown by the points spread along the line in the q-q plots.
* There are 1000 observations and therefore enough to satisfy the Central Limit Theorem. However, a power calculations has not been done. 

Checking the assumptions for the chi-squared test (research question 3): 

* From the expected values output, each expected value is >5 in all cells. 
* Both variables are categorical (gender, physical activity).

## Outcomes

Results of the statistical tests (calculated by R). The stats package [@stats1] was used to run the statistical tests:

```{r, echo=FALSE, eval=TRUE}
library(project)

myfit_lm <- fit_lm(project2022)
myfit_lm

decision_lm(myfit_lm)

myttest_t <- ttest_t(project2022)
myttest_t

decision_t(myttest_t)

mychi_chi <- chi_chi(project2022)
mychi_chi

decision_chi(mychi_chi)
```

\newpage
# Conclusion

Conclusions to research questions 1,2, and 3 respectively (as calculated in R). The glue package [@glue1] was used in the functions to interpret the conclusion from the data-set:
<br /> 
\newline
<br /> 
\newline
"Phys" in the conclusion addressing question 3 refers to physical activity*

```{r, echo=FALSE, eval=TRUE}
library(project)

myfit_lm <- fit_lm(project2022)
conclusion_lm(myfit_lm)

myttest_t <- ttest_t(project2022)
conclusion_t(myttest_t)

mychi_chi <- chi_chi(project2022)
conclusion_chi(mychi_chi)
```


## Limitations
&nbsp;One limitation of the study was the sample size. There was no power study conducted before sampling the subjects to determine the required sample size for the tests. The external validity of the results may be limited as the results may not be representative of the general population. The categorising of physical activity to "intense", "moderate", "none" provides very little information, as many other studies would take other measurements, such as "duration" or "frequency" for example. It was not also not clear how the physical activity fit into these categories. Therefore the ability to reproduce the results of this chi-squared, using the same methodology would be very limited. 

\newpage
# References
